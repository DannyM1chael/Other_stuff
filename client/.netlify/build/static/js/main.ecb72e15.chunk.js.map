{"version":3,"sources":["components/Join/index.jsx","components/InfoBar/index.jsx","components/Input/index.jsx","components/Messages/Message/index.jsx","components/Messages/index.jsx","components/TextContainer/index.jsx","components/Chat/index.jsx","App.js","serviceWorker.js","index.js","icons/onlineIcon.png","icons/closeIcon.png"],"names":["Join","useState","name","setName","room","setRoom","className","placeholder","type","onChange","event","target","value","onClick","preventDefault","to","InfoBar","src","onlineIcon","alt","href","closeIcon","Input","message","setMessage","sendMessage","action","onKeyPress","key","Message","user","text","isSentByCurrentUser","trimmedName","trim","toLowerCase","ReactEmoji","emojify","Messages","messages","map","index","TextContainer","socket","users","role","aria-label","Chat","location","setUsers","setMessages","ENDPOINT","useEffect","queryString","parse","search","io","emit","error","alert","on","off","App","path","exact","component","Boolean","window","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console","module","exports"],"mappings":"sWAgDeA,MA5Cf,WAAiB,IAAD,EAEYC,mBAAS,IAFrB,mBAELC,EAFK,KAECC,EAFD,OAGYF,mBAAS,IAHrB,mBAGLG,EAHK,KAGCC,EAHD,KAaZ,OACI,yBAAKC,UAAU,sBACX,yBAAKA,UAAU,sBACX,wBAAIA,UAAU,WAAd,QACA,6BACI,2BACQC,YAAY,OACZC,KAAK,OACLF,UAAU,YACVG,SAjBJ,SAACC,GACjBP,EAAQO,EAAMC,OAAOC,WAmBb,6BACI,2BACQL,YAAY,OACZC,KAAK,OACLF,UAAU,kBACVG,SArBJ,SAACC,GACjBL,EAAQK,EAAMC,OAAOC,WAuBb,kBAAC,IAAD,CAAMC,QAAS,SAAAH,GAAK,OAAMR,GAASE,EAAgC,KAAxBM,EAAMI,kBAC3CC,GAAE,qBAAgBb,EAAhB,iBAA6BE,IACjC,4BAAQE,UAAU,eAAeE,KAAK,UAAtC,e,mFChBLQ,MAjBf,YAA6B,IAATZ,EAAQ,EAARA,KAEhB,OACI,yBAAKE,UAAU,WACX,yBAAKA,UAAU,sBACX,yBAAKW,IAAMC,IAAaC,IAAI,SAASb,UAAU,eAC/C,4BAAMF,IAEV,yBAAKE,UAAU,uBACX,uBAAGc,KAAK,KACJ,yBAAKH,IAAMI,IAAYF,IAAI,c,cCKhCG,MAjBf,YAAqD,IAApCC,EAAmC,EAAnCA,QAASC,EAA0B,EAA1BA,WAAYC,EAAc,EAAdA,YAElC,OACI,0BAAMC,OAAO,GAAGpB,UAAU,QACtB,2BACIE,KAAK,OACLF,UAAU,QACVC,YAAY,oBACZK,MAAQW,EACRd,SAAU,SAACC,GAAD,OAAWc,EAAWd,EAAMC,OAAOC,QAC7Ce,WAAY,SAAAjB,GAAK,MAAkB,UAAdA,EAAMkB,IAAkBH,EAAYf,GAAS,QAEtE,4BAAQJ,UAAU,aAAaO,QAAS,SAACH,GAAD,OAAWe,EAAYf,KAA/D,U,yCCiBGmB,MA7Bf,YAAsD,IAAD,IAAjCN,QAAWO,EAAsB,EAAtBA,KAAMC,EAAgB,EAAhBA,KAE7BC,GAAsB,EACpBC,EAH2C,EAAR/B,KAGhBgC,OAAOC,cAKhC,OAHIL,IAASG,IACTD,GAAsB,GAGtBA,EAEI,yBAAK1B,UAAU,+BACX,uBAAGA,UAAU,kBAAmB2B,GAChC,yBAAK3B,UAAU,6BACX,uBAAGA,UAAU,0BAA2B8B,IAAWC,QAAQN,MAKnE,yBAAKzB,UAAU,iCACX,yBAAKA,UAAU,8BACX,uBAAGA,UAAU,yBAA0B8B,IAAWC,QAAQN,KAE9D,uBAAGzB,UAAU,kBAAmBwB,K,OCNjCQ,MAff,YAAwC,IAAnBC,EAAkB,EAAlBA,SAAUrC,EAAQ,EAARA,KAE3B,OACI,kBAAC,IAAD,CAAgBI,UAAU,YACpBiC,EAASC,KAAI,SAACjB,EAASkB,GACrB,OACI,yBAAKb,IAAMa,GACP,kBAAC,EAAD,CAASlB,QAAUA,EAAUrB,KAAOA,U,OCuB7CwC,IC3BXC,ED2BWD,EAhCf,YAAqC,IAAXE,EAAU,EAAVA,MAEtB,OACI,yBAAKtC,UAAU,iBACb,6BACE,yDAA8B,0BAAMuC,KAAK,MAAMC,aAAW,SAA5B,iBAC9B,+EAAoD,0BAAMD,KAAK,MAAMC,aAAW,SAA5B,iBACpD,qDAA0B,0BAAMD,KAAK,MAAMC,aAAW,SAA5B,kBAG1BF,EAEI,6BACE,0DACA,yBAAKtC,UAAU,mBACb,4BACGsC,EAAMJ,KAAI,gBAAEtC,EAAF,EAAEA,KAAF,OACT,yBAAK0B,IAAK1B,EAAMI,UAAU,cACvBJ,EACD,yBAAKiB,IAAI,cAAcF,IAAKC,aAOtC,OC0CD6B,MA7Df,YAA8B,IAAbC,EAAY,EAAZA,SAAY,EAED/C,mBAAS,IAFR,mBAElBC,EAFkB,KAEZC,EAFY,OAGDF,mBAAS,IAHR,mBAGlBG,EAHkB,KAGZC,EAHY,OAICJ,mBAAS,IAJV,mBAIlB2C,EAJkB,KAIXK,EAJW,OAKKhD,mBAAS,IALd,mBAKlBsB,EALkB,KAKTC,EALS,OAMOvB,mBAAS,IANhB,mBAMlBsC,EANkB,KAMRW,EANQ,KAQnBC,EAAW,8CAyCjB,OAvCAC,qBAAU,WAAO,IAAD,EACWC,IAAYC,MAAMN,EAASO,QAA1CrD,EADI,EACJA,KAAME,EADF,EACEA,KAEduC,EAASa,IAAGL,GAEZhD,EAAQD,GACRG,EAAQD,GAERuC,EAAOc,KAAK,OAAQ,CAAEvD,OAAME,SAAQ,SAACsD,GAC9BA,GACCC,MAAM,6BAIf,CAACR,EAAUH,EAASO,SAEvBH,qBAAU,WASN,OARAT,EAAOiB,GAAG,WAAW,SAACrC,GAClB2B,EAAY,GAAD,mBAAKX,GAAL,CAAehB,QAG9BoB,EAAOiB,GAAG,YAAY,YAAgB,IAAZhB,EAAW,EAAXA,MACtBK,EAASL,MAGP,WACFD,EAAOc,KAAK,cACZd,EAAOkB,SAEZ,CAACtB,IAWA,yBAAKjC,UAAU,kBACX,yBAAKA,UAAU,aACX,kBAAC,EAAD,CAASF,KAAOA,IAChB,kBAAC,EAAD,CAAUmC,SAAWA,EAAWrC,KAAQA,IACxC,kBAAC,EAAD,CAAOqB,QAAUA,EAAUC,WAAeA,EAAaC,YAb/C,SAACf,GACjBA,EAAMI,iBAEHS,GACCoB,EAAOc,KAAK,cAAelC,GAAS,kBAAMC,EAAW,WAWrD,kBAAC,EAAD,CAAeoB,MAAQA,MCpDpBkB,MAVf,WACE,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,KAAK,IAAIC,OAAK,EAACC,UAAYjE,IAClC,kBAAC,IAAD,CAAO+D,KAAK,QAAUE,UAAYlB,MCGpBmB,QACW,cAA7BC,OAAOnB,SAASoB,UAEe,UAA7BD,OAAOnB,SAASoB,UAEhBD,OAAOnB,SAASoB,SAASC,MACvB,2DCZNC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,SD6H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAtB,GACLuB,QAAQvB,MAAMA,EAAMnC,a,iBEzI5B2D,EAAOC,QAAU,8N,iBCAjBD,EAAOC,QAAU,8Q","file":"static/js/main.ecb72e15.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './join.css';\r\n\r\nfunction Join() {\r\n\r\n    const [name, setName] = useState('');\r\n    const [room, setRoom] = useState('');\r\n\r\n    const NameHandler = (event) => {\r\n        setName(event.target.value);\r\n    }\r\n\r\n    const RoomHandler = (event) => {\r\n        setRoom(event.target.value);\r\n    }\r\n\r\n    return(\r\n        <div className=\"joinOuterContainer\">\r\n            <div className=\"joinInnerContainer\">\r\n                <h1 className=\"heading\">Join</h1>\r\n                <div>\r\n                    <input \r\n                            placeholder=\"Name\" \r\n                            type=\"text\" \r\n                            className=\"joinInput\" \r\n                            onChange={ NameHandler } \r\n                    />\r\n                </div>\r\n                <div>\r\n                    <input \r\n                            placeholder=\"Room\" \r\n                            type=\"text\" \r\n                            className=\"joinInput mt-20\" \r\n                            onChange={ RoomHandler } \r\n                    />\r\n                </div>\r\n                <Link onClick={event => (!name || !room) ? event.preventDefault(): null}\r\n                      to={`/chat?name=${name}&room=${room}`}>\r\n                    <button className=\"button mt-20\" type=\"submit\"> \r\n                        Sign in\r\n                    </button>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Join;","import React from 'react';\r\nimport closeIcon from '../../icons/closeIcon.png';\r\nimport onlineIcon from '../../icons/onlineIcon.png';\r\n\r\nimport './infobar.css';\r\n\r\nfunction InfoBar( { room }) {\r\n\r\n    return(\r\n        <div className=\"infoBar\">\r\n            <div className=\"leftInnerContainer\">\r\n                <img src={ onlineIcon } alt=\"online\" className=\"onlineIcon\"/>\r\n                <h3>{ room }</h3>\r\n            </div>\r\n            <div className=\"rightInnerContainer\">\r\n                <a href=\"/\">\r\n                    <img src={ closeIcon } alt=\"close\"/>\r\n                </a>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default InfoBar;","import React from 'react';\r\n\r\nimport './input.css';\r\n\r\nfunction Input( {message, setMessage, sendMessage}) {\r\n    \r\n    return(\r\n        <form action=\"\" className=\"form\">\r\n            <input \r\n                type=\"text\" \r\n                className=\"input\"\r\n                placeholder=\"Type a message...\"\r\n                value={ message }\r\n                onChange={(event) => setMessage(event.target.value)}\r\n                onKeyPress={event => event.key === 'Enter' ? sendMessage(event) : null }\r\n            />\r\n            <button className=\"sendButton\" onClick={(event) => sendMessage(event)}>Send</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Input;","import React from 'react';\r\nimport ReactEmoji from 'react-emoji';\r\nimport '../Message/message.css';\r\n\r\nfunction Message( { message: { user, text }, name }) {\r\n\r\n    let isSentByCurrentUser = false;\r\n    const trimmedName = name.trim().toLowerCase();\r\n    \r\n    if (user === trimmedName) {\r\n        isSentByCurrentUser = true;\r\n    }\r\n    return(\r\n        isSentByCurrentUser\r\n        ? (\r\n            <div className=\"messageContainer justifyEnd\">\r\n                <p className=\"sentText pr-10\">{ trimmedName }</p>\r\n                <div className=\"messageBox backgroundBlue\">\r\n                    <p className=\"messageText colorWhite\">{ ReactEmoji.emojify(text) }</p>\r\n                </div>\r\n            </div>\r\n        )\r\n        : (\r\n            <div className=\"messageContainer justifyStart\">\r\n                <div className=\"messageBox backgroundLight\">\r\n                    <p className=\"messageText colorDark\">{ ReactEmoji.emojify(text) }</p>\r\n                </div>\r\n                <p className=\"sentText pl-10\">{ user }</p>\r\n            </div>\r\n        )\r\n    )\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\nimport ScrollToBottom from 'react-scroll-to-bottom';\r\nimport Message from './Message';\r\n\r\nimport './messages.css';\r\n\r\nfunction Messages( { messages, name }) {\r\n\r\n    return(\r\n        <ScrollToBottom className=\"messages\">\r\n            { messages.map((message, index) => {\r\n                return (\r\n                    <div key={ index }>\r\n                        <Message message={ message } name={ name } />\r\n                    </div>\r\n                )\r\n            }) }\r\n        </ScrollToBottom>\r\n    )\r\n};\r\n\r\nexport default Messages;","import React from 'react';\r\nimport onlineIcon from '../../icons/onlineIcon.png';\r\nimport './textcontainer.css';\r\n\r\nfunction TextContainer( { users } ) {\r\n    \r\n    return(\r\n        <div className=\"textContainer\">\r\n          <div>\r\n            <h1>Realtime Chat Application <span role=\"img\" aria-label=\"emoji\">üí¨</span></h1>\r\n            <h2>Created with React, Express, Node and Socket.IO <span role=\"img\" aria-label=\"emoji\">‚ù§Ô∏è</span></h2>\r\n            <h2>Try it out right now! <span role=\"img\" aria-label=\"emoji\">‚¨ÖÔ∏è</span></h2>\r\n          </div>\r\n          {\r\n            users\r\n              ? (\r\n                <div>\r\n                  <h1>People currently chatting:</h1>\r\n                  <div className=\"activeContainer\">\r\n                    <h2>\r\n                      {users.map(({name}) => (\r\n                        <div key={name} className=\"activeItem\">\r\n                          {name}\r\n                          <img alt=\"Online Icon\" src={onlineIcon}/>\r\n                        </div>\r\n                      ))}\r\n                    </h2>\r\n                  </div>\r\n                </div>\r\n              )\r\n              : null\r\n          }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TextContainer;","import React, { useState, useEffect } from 'react';\r\nimport queryString from 'query-string';\r\nimport io from 'socket.io-client';\r\nimport InfoBar from '../InfoBar';\r\nimport './chat.css';\r\nimport Input from '../Input';\r\nimport Messages from '../Messages';\r\nimport TextContainer from '../TextContainer';\r\n\r\nlet socket;\r\n\r\nfunction Chat( { location }) {\r\n\r\n    const [name, setName] = useState('');\r\n    const [room, setRoom] = useState('');\r\n    const [users, setUsers] = useState('');\r\n    const [message, setMessage] = useState('');\r\n    const [messages, setMessages] = useState([]);\r\n\r\n    const ENDPOINT = 'https://realtime-chat-app-js.herokuapp.com/';\r\n\r\n    useEffect(() => {\r\n        const { name, room } = queryString.parse(location.search);\r\n        \r\n        socket = io(ENDPOINT);\r\n\r\n        setName(name);\r\n        setRoom(room);\r\n\r\n        socket.emit('join', { name, room }, (error) => {\r\n            if(error) {\r\n                alert('Something goes wrong')\r\n            }\r\n        });\r\n\r\n    }, [ENDPOINT, location.search]);\r\n\r\n    useEffect(() =>{\r\n        socket.on('message', (message) => {\r\n            setMessages([...messages, message]);\r\n        });\r\n\r\n        socket.on('roomData', ( { users }) =>{\r\n            setUsers(users)\r\n        });\r\n\r\n        return() => {\r\n            socket.emit('disconnect');\r\n            socket.off();\r\n        }\r\n    }, [messages]);\r\n\r\n    const sendMessage = (event) => {\r\n        event.preventDefault();\r\n\r\n        if(message) {\r\n            socket.emit('sendMessage', message, () => setMessage(''));\r\n        }\r\n    };\r\n\r\n    return(\r\n        <div className=\"outerContainer\">\r\n            <div className=\"container\">\r\n                <InfoBar room={ room } />\r\n                <Messages messages={ messages } name= { name } />\r\n                <Input message={ message } setMessage = { setMessage } sendMessage = { sendMessage } />\r\n            </div>\r\n            <TextContainer users={ users }/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat;","import React from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport Join from './components/Join';\nimport Chat from './components/Chat';\n\nfunction App() {\n  return (\n    <Router>\n      <Route path=\"/\" exact component={ Join } />\n      <Route path=\"/chat\"   component={ Chat } />\n    </Router>\n    \n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII=\""],"sourceRoot":""}